### 0X01 å‰è¨€

è¿™æ¬¡æˆ‘ä»¬æ‹†è§£çš„ç›®æ ‡æ˜¯ Module ç±»ï¼Œçœ‹çœ‹å…¶ç©¶ç«Ÿæ˜¯ä½•æ–¹å¦–å­½ï¼Ÿ

çœ‹åˆ°å¦–å­½ï¼Œå°±æƒ³åˆ°â€œå­™æ‚Ÿç©ºæœ‰å‡ ä¸ªå¦–ç²¾å¥³æœ‹å‹â€ï¼Œæƒ³åˆ°ä»Šå¹´ä¸‹åŠå¹´ujhugfthyjunkl

å¥½äº†ï¼Œä¸ 666 äº†

### 0X02 æºç 

ç”± Module ç±»çš„æ³¨é‡Šå¯å¾—ï¼Œè¿™åº”è¯¥å°±æ˜¯ç°åœ¨ Flask ä¸­çš„è“å›¾ blueprint çš„å‰ä¸–ä¼ å¥‡

å®ƒçš„æœ€å¤§ç‰¹ç‚¹å°±æ˜¯ï¼Œå®ƒçš„æ‰€æœ‰è£…é¥°å™¨éƒ½æ˜¯å¾€ `Module._register_events` æ·»åŠ äº†ä¸€ä¸ªå‡½æ•°ï¼Œæˆ–è€…è¯´æ³¨å†Œäº†ä¸€ä¸ªäº‹ä»¶

```python
    def _record(self, func):
        self._register_events.append(func)
```

ç”±äºè¯·æ±‚â€”â€”å“åº”æ˜¯åœ¨ Flask ä¸Šå®Œæˆçš„ï¼Œå› æ­¤ Module çš„å‡½æ•°éƒ½éœ€è¦æ³¨å†Œåˆ° Flask çš„å®ä¾‹ app ä¸Š

è¿™äº›æ³¨å†Œçš„å‡½æ•°ä¼šåœ¨ `Flask.register_module()` ä¸­è°ƒç”¨

```python
    def register_module(self, module, **options):
        options.setdefault('url_prefix', module.url_prefix)
        state = _ModuleSetupState(self, **options)
        for func in module._register_events:
            func(state)
```

åŒæ—¶å®ƒè¿˜æœ‰ä¸ªè¾…åŠ©ç±» _ModuleSetupState ï¼Œç”¨äºå­˜æ”¾ app å®ä¾‹å’Œ URL å‰ç¼€

```python
class _ModuleSetupState(object):

    def __init__(self, app, url_prefix=None):
        self.app = app
        self.url_prefix = url_prefix
```



### 0X03 åè®°

æœ¬ä»¥ä¸ºä¼šå¾ˆå¤æ‚ï¼Œæ²¡æƒ³åˆ°è¿™ä¹ˆç®€å•ğŸ˜„

